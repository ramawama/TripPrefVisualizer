import*as e from"react";import n,{localeOption as t,PrimeReactContext as i}from"primereact/api";import{ComponentBase as a,useHandleStyle as r}from"primereact/componentbase";import{CSSTransition as l}from"primereact/csstransition";import{useMergeProps as o,useMountEffect as c,usePrevious as u,useResizeListener as s,useUpdateEffect as m,useInterval as p,useUnmountEffect as d}from"primereact/hooks";import{TimesIcon as f}from"primereact/icons/times";import{Portal as h}from"primereact/portal";import{Ripple as b}from"primereact/ripple";import{classNames as v,IconUtils as g,DomHandler as I,UniqueComponentId as x,ObjectUtils as y,ZIndexUtils as w}from"primereact/utils";import{ChevronLeftIcon as S}from"primereact/icons/chevronleft";import{ChevronRightIcon as O}from"primereact/icons/chevronright";import{ChevronDownIcon as E}from"primereact/icons/chevrondown";import{ChevronUpIcon as N}from"primereact/icons/chevronup";function P(){return P=Object.assign?Object.assign.bind():function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},P.apply(this,arguments)}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function T(e,n){if("object"!==C(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,n||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}function j(e){var n=T(e,"string");return"symbol"===C(n)?n:String(n)}function k(e,n,t){return(n=j(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function A(e){if(Array.isArray(e))return e}function D(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var i,a,r,l,o=[],c=!0,u=!1;try{if(r=(t=t.call(e)).next,0===n){if(Object(t)!==t)return;c=!1}else for(;!(c=(i=r.call(t)).done)&&(o.push(i.value),o.length!==n);c=!0);}catch(e){u=!0,a=e}finally{try{if(!c&&null!=t.return&&(l=t.return(),Object(l)!==l))return}finally{if(u)throw a}}return o}}function R(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,i=new Array(n);t<n;t++)i[t]=e[t];return i}function V(e,n){if(e){if("string"==typeof e)return R(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?R(e,n):void 0}}function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function H(e,n){return A(e)||D(e,n)||V(e,n)||B()}var U=a.extend({defaultProps:{__TYPE:"Galleria",activeIndex:0,autoPlay:!1,baseZIndex:0,caption:null,changeItemOnIndicatorHover:!1,children:void 0,circular:!1,className:null,closeIcon:null,footer:null,fullScreen:!1,header:null,id:null,indicator:null,indicatorsPosition:"bottom",item:null,itemNextIcon:null,itemPrevIcon:null,nextThumbnailIcon:null,numVisible:3,onHide:null,onItemChange:null,onShow:null,prevThumbnailIcon:null,responsiveOptions:null,showIndicators:!1,showIndicatorsOnItem:!1,showItemNavigators:!1,showItemNavigatorsOnHover:!1,showThumbnailNavigators:!0,showThumbnails:!0,style:null,thumbnail:null,thumbnailsPosition:"bottom",transitionInterval:4e3,transitionOptions:null,value:null,verticalThumbnailViewPortHeight:"300px"},css:{classes:{header:"p-galleria-header",footer:"p-galleria-footer",closeIcon:"p-galleria-close-icon",closeButton:"p-galleria-close p-link",root:function(e){var t=e.props,i=e.context;return v("p-galleria p-component",{"p-galleria-fullscreen":t.fullScreen,"p-galleria-indicator-onitem":t.showIndicatorsOnItem,"p-galleria-item-nav-onhover":t.showItemNavigatorsOnHover&&!t.fullScreen,"p-input-filled":i&&"filled"===i.inputStyle||"filled"===n.inputStyle,"p-ripple-disabled":i&&!1===i.ripple||!1===n.ripple},e.thumbnailsPosClassName,e.indicatorPosClassName)},content:"p-galleria-content",mask:function(e){return v("p-galleria-mask",{"p-galleria-visible":e.visibleState})},thumbnailItem:function(e){var n=e.subProps;return v("p-galleria-thumbnail-item",{"p-galleria-thumbnail-item-current":n.current,"p-galleria-thumbnail-item-active":n.active,"p-galleria-thumbnail-item-start":n.start,"p-galleria-thumbnail-item-end":n.end})},thumbnailItemContent:"p-galleria-thumbnail-item-content",previousThumbnailIcon:"p-galleria-thumbnail-prev-icon",previousThumbnailButton:function(e){return v("p-galleria-thumbnail-prev p-link",{"p-disabled":e.isDisabled})},nextThumbnailIcon:"p-galleria-thumbnail-next-icon",nextThumbnailButton:function(e){return v("p-galleria-thumbnail-next p-link",{"p-disabled":e.isDisabled})},thumbnailContainer:"p-galleria-thumbnail-container",thumbnailItemsContainer:"p-galleria-thumbnail-items-container",thumbnailItems:"p-galleria-thumbnail-items",thumbnailWrapper:"p-galleria-thumbnail-wrapper",previousItemIcon:"p-galleria-item-prev-icon",previousItemButton:function(e){return v("p-galleria-item-prev p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},nextItemIcon:"p-galleria-item-next-icon",nextItemButton:function(e){return v("p-galleria-item-next p-galleria-item-nav p-link",{"p-disabled":e.isDisabled})},caption:"p-galleria-caption",indicator:function(e){return v("p-galleria-indicator",{"p-highlight":e.isActive})},indicators:"p-galleria-indicators p-reset",itemWrapper:"p-galleria-item-wrapper",itemContainer:"p-galleria-item-container",item:"p-galleria-item",transition:"p-galleria"},styles:"\n@layer primereact {\n    .p-galleria-content {\n        display: flex;\n        flex-direction: column;\n    }\n    \n    .p-galleria-item-wrapper {\n        display: flex;\n        flex-direction: column;\n        position: relative;\n    }\n    \n    .p-galleria-item-container {\n        position: relative;\n        display: flex;\n        height: 100%;\n    }\n    \n    .p-galleria-item-nav {\n        position: absolute;\n        top: 50%;\n        margin-top: -.5rem;\n        display: inline-flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-item-prev {\n        left: 0;\n        border-top-left-radius: 0;\n        border-bottom-left-radius: 0;\n    }\n    \n    .p-galleria-item-next {\n        right: 0;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n    \n    .p-galleria-item {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        height: 100%;\n        width: 100%;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-nav {\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity .2s ease-in-out;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav {\n        pointer-events: all;\n        opacity: 1;\n    }\n    \n    .p-galleria-item-nav-onhover .p-galleria-item-wrapper:hover .p-galleria-item-nav.p-disabled {\n        pointer-events: none;\n    }\n    \n    .p-galleria-caption {\n        position: absolute;\n        bottom: 0;\n        left: 0;\n        width: 100%;\n    }\n    \n    /* Thumbnails */\n    .p-galleria-thumbnail-wrapper {\n        display: flex;\n        flex-direction: column;\n        overflow: auto;\n        flex-shrink: 0;\n    }\n    \n    .p-galleria-thumbnail-prev,\n    .p-galleria-thumbnail-next {\n        align-self: center;\n        flex: 0 0 auto;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n        position: relative;\n    }\n    \n    .p-galleria-thumbnail-prev span,\n    .p-galleria-thumbnail-next span {\n        display: flex;\n        justify-content: center;\n        align-items: center;\n    }\n    \n    .p-galleria-thumbnail-container {\n        display: flex;\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnail-items-container {\n        overflow: hidden;\n        width: 100%;\n    }\n    \n    .p-galleria-thumbnail-items {\n        display: flex;\n    }\n    \n    .p-galleria-thumbnail-item {\n        overflow: auto;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        cursor: pointer;\n        opacity: .5;\n    }\n    \n    .p-galleria-thumbnail-item:hover {\n        opacity: 1;\n        transition: opacity .3s;\n    }\n    \n    .p-galleria-thumbnail-item-current {\n        opacity: 1;\n    }\n    \n    /* Positions */\n    /* Thumbnails */\n    .p-galleria-thumbnails-left .p-galleria-content,\n    .p-galleria-thumbnails-right .p-galleria-content {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-right .p-galleria-item-wrapper {\n        flex-direction: row;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-item-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-item-wrapper {\n        order: 2;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-wrapper,\n    .p-galleria-thumbnails-top .p-galleria-thumbnail-wrapper {\n        order: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-container,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-container {\n        flex-direction: column;\n        flex-grow: 1;\n    }\n    \n    .p-galleria-thumbnails-left .p-galleria-thumbnail-items,\n    .p-galleria-thumbnails-right .p-galleria-thumbnail-items {\n        flex-direction: column;\n        height: 100%;\n    }\n    \n    /* Indicators */\n    .p-galleria-indicators {\n        display: flex;\n        align-items: center;\n        justify-content: center;\n    }\n    \n    .p-galleria-indicator > button {\n        display: inline-flex;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-wrapper,\n    .p-galleria-indicators-right .p-galleria-item-wrapper {\n        flex-direction: row;\n        align-items: center;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-item-container,\n    .p-galleria-indicators-top .p-galleria-item-container {\n        order: 2;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-top .p-galleria-indicators {\n        order: 1;\n    }\n    \n    .p-galleria-indicators-left .p-galleria-indicators,\n    .p-galleria-indicators-right .p-galleria-indicators {\n        flex-direction: column;\n    }\n    \n    .p-galleria-indicator-onitem .p-galleria-indicators {\n        position: absolute;\n        display: flex;\n        z-index: 1;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-top .p-galleria-indicators {\n        top: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-start;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-right .p-galleria-indicators {\n        right: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-bottom .p-galleria-indicators {\n        bottom: 0;\n        left: 0;\n        width: 100%;\n        align-items: flex-end;\n    }\n    \n    .p-galleria-indicator-onitem.p-galleria-indicators-left .p-galleria-indicators {\n        left: 0;\n        top: 0;\n        height: 100%;\n        align-items: flex-start;\n    }\n    \n    /* FullScreen */\n    .p-galleria-mask {\n        position: fixed;\n        top: 0;\n        left: 0;\n        width: 100%;\n        height: 100%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        pointer-events: none;\n    }\n    \n    .p-galleria-mask.p-component-overlay {\n        pointer-events: auto;\n    }\n    \n    .p-galleria-close {\n        position: absolute;\n        top: 0;\n        right: 0;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        overflow: hidden;\n    }\n    \n    .p-galleria-mask .p-galleria-item-nav {\n        position: fixed;\n        top: 50%;\n        margin-top: -.5rem;\n    }\n    \n    /* Animation */\n    .p-galleria-enter {\n        opacity: 0;\n        transform: scale(0.7);\n    }\n    \n    .p-galleria-enter-active {\n        opacity: 1;\n        transform: scale(1);\n        transition: all 150ms cubic-bezier(0, 0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-done {\n        transform: none;\n    }\n    \n    .p-galleria-exit {\n        opacity: 1;\n    }\n    \n    .p-galleria-exit-active {\n        opacity: 0;\n        transform: scale(0.7);\n        transition: all 150ms cubic-bezier(0.4, 0.0, 0.2, 1);\n    }\n    \n    .p-galleria-enter-active .p-galleria-item-nav {\n        opacity: 0;\n    }\n    \n    /* Keyboard Support */\n    .p-items-hidden .p-galleria-thumbnail-item {\n        visibility: hidden;\n    }\n    \n    .p-items-hidden .p-galleria-thumbnail-item.p-galleria-thumbnail-item-active {\n        visibility: visible;\n    }\n}\n",inlineStyles:{thumbnailItemsContainer:function(e){return{height:e.height}}}}});function _(e){if(Array.isArray(e))return R(e)}function G(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function L(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(e){return _(e)||G(e)||V(e)||L()}function W(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function X(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?W(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):W(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var z=e.memo(e.forwardRef((function(n,i){var a=o(),r=e.useRef(null),l=n.ptm,u=n.cx,s=function(e,t){return l(e,X({hostName:n.hostName},t))},m=function(){n.slideShowActive&&n.stopSlideShow&&n.stopSlideShow()},p=function(e){m(),n.onActiveItemChange({index:n.circular&&0===n.activeItemIndex?n.value.length-1:0!==n.activeItemIndex?n.activeItemIndex-1:0}),e&&e.cancelable&&e.preventDefault()},d=function(e){m(),n.onActiveItemChange({index:n.circular&&n.value.length-1===n.activeItemIndex?0:n.activeItemIndex+1}),e&&e.cancelable&&e.preventDefault()},f=function(e){m(),n.onActiveItemChange({index:e})},h=function(e){n.changeItemOnIndicatorHover&&(m(),n.onActiveItemChange({index:e}))},x=function(e,t){switch(e.code){case"Enter":case"NumpadEnter":case"Space":m(),n.onActiveItemChange({index:t}),e.preventDefault();break;case"ArrowRight":y();break;case"ArrowLeft":w();break;case"Home":E(),e.preventDefault();break;case"End":N(),e.preventDefault();break;case"Tab":C();break;case"ArrowDown":case"ArrowUp":case"PageUp":case"PageDown":e.preventDefault()}},y=function(){var e=M(I.find(r.current,'[data-pc-section="indicator"]')),n=T();j(n,n+1===e.length?e.length-1:n+1)},w=function(){var e=T();j(e,e-1<=0?0:e-1)},E=function(){var e=T();j(e,0)},N=function(){var e=M(I.find(r.current,'[data-pc-section="indicator"]')),n=T();j(n,e.length-1)},C=function(){var e=M(I.find(r.current,'[data-pc-section="indicator"]')),n=e.findIndex((function(e){return!0===I.getAttribute(e,"data-p-highlight")})),t=I.findSingle(r.current,'[data-pc-section="indicator"] > button[tabindex="0"]'),i=e.findIndex((function(e){return e===t.parentElement}));e[i].children[0].tabIndex="-1",e[n].children[0].tabIndex="0"},T=function(){var e=M(I.find(r.current,'[data-pc-section="indicator"]')),n=I.findSingle(r.current,'[data-pc-section="indicator"] > button[tabindex="0"]');return e.findIndex((function(e){return e===n.parentElement}))},j=function(e,n){var t=M(I.find(r.current,'[data-pc-section="indicator"]'));t[e].children[0].tabIndex="-1",t[n].children[0].tabIndex="0",t[n].children[0].focus()};c((function(){n.autoPlay&&n.startSlideShow()}));var k,A=function(i){var r,l="p-galleria-indicator-"+i,o=n.activeItemIndex===i,c=n.indicator&&n.indicator(i),m=a({className:u("indicator",{isActive:o}),key:l,tabIndex:0,"aria-label":(r=i+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,r):void 0),"aria-selected":n.activeIndex===i,"aria-controls":n.id+"_item_"+i,"data-p-highlight":o,onClick:function(){return f(i)},onMouseEnter:function(){return h(i)},onKeyDown:function(e){return x(e,i)}},s("indicator"));return c||(c=e.createElement("button",{tabIndex:n.activeIndex===i?"0":"-1",type:"button",className:"p-link"},e.createElement(b,null))),e.createElement("li",m,c)},D=n.itemTemplate&&n.itemTemplate(n.value[n.activeItemIndex]),R=function(){if(n.showItemNavigators){var t=!n.circular&&0===n.activeItemIndex,i=a({className:u("previousItemIcon")},s("previousItemIcon")),r=g.getJSXIcon(n.itemPrevIcon||e.createElement(S,i),X({},i),{props:n}),l=a({type:"button",className:u("previousItemButton",{isDisabled:t}),onClick:p,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},s("previousItemButton"));return e.createElement("button",l,r,e.createElement(b,null))}return null}(),V=function(){if(n.showItemNavigators){var t=!n.circular&&n.activeItemIndex===n.value.length-1,i=a({className:u("nextItemIcon")},s("nextItemIcon")),r=g.getJSXIcon(n.itemNextIcon||e.createElement(O,i),X({},i),{props:n}),l=a({type:"button",className:u("nextItemButton",{isDisabled:t}),onClick:d,disabled:t,"data-p-disabled":t,"data-pc-group-section":"itemnavigator"},s("nextItemButton"));return e.createElement("button",l,r,e.createElement(b,null))}return null}(),B=function(){var t=a({className:u("caption")},s("caption"));if(n.caption){var i=n.caption(n.value[n.activeItemIndex]);return e.createElement("div",t,i)}return null}(),H=function(){if(n.showIndicators){for(var t=[],i=a({className:v(n.indicatorsContentClassName,u("indicators"))},s("indicators")),l=0;l<n.value.length;l++)t.push(A(l));return e.createElement("ul",P({ref:r},i),t)}return null}(),U=a({ref:i,className:u("itemWrapper")},s("itemWrapper")),_=a({className:u("itemContainer")},s("itemContainer")),G=a({className:u("item"),id:n.id+"_item_"+n.activeItemIndex,role:"group","aria-label":(k=n.activeItemIndex+1,t("aria")?t("aria").slideNumber.replace(/{slideNumber}/g,k):void 0),"aria-roledescription":t("aria")?t("aria").slide:void 0},s("item"));return e.createElement("div",U,e.createElement("div",_,R,e.createElement("div",G,D),V,B),H)})));function J(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function Z(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?J(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}z.displayName="GalleriaItem";var K=e.memo((function(n){var i,a=o(),r=n.ptm,l=n.cx,c=function(e,t){return r(e,Z({hostName:n.hostName},t))},u=function(){var e=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=f();h(t,t+1===e.length?e.length-1:t+1)},s=function(){var e=f();h(e,e-1<=0?0:e-1)},m=function(){var e=f();h(e,0)},p=function(){var e=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]'),t=f();h(t,e.length-1)},d=function(){var e=M(I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=e.findIndex((function(e){return!0===I.getAttribute(e,"data-p-active")})),i=I.findSingle(n.itemsContainerRef.current,'[tabindex="0"]'),a=e.findIndex((function(e){return e===i.parentElement}));e[a].children[0].tabIndex="-1",e[t].children[0].tabIndex="0"},f=function(){var e=M(I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]')),t=I.findSingle(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"] > [tabindex="0"]');return e.findIndex((function(e){return e===t.parentElement}))},h=function(e,t){var i=I.find(n.itemsContainerRef.current,'[data-pc-section="thumbnailitem"]');i[e].children[0].tabIndex="-1",i[t].children[0].tabIndex="0",i[t].children[0].focus()},b=n.template&&n.template(n.item),g=a({className:v(n.className,l("thumbnailItem",{subProps:n})),key:"p-galleria-thumbnail-item-"+n.index,role:"tab","data-p-active":n.current,"aria-selected":n.current,"aria-controls":n.containerId+"_item_"+n.index,onKeyDown:function(e){switch("Enter"!==e.code&&"NumpadEnter"!==e.code&&"Space"!==e.code||(n.onItemClick({originalEvent:e,index:n.index}),e.preventDefault()),e.code){case"ArrowRight":u();break;case"ArrowLeft":s();break;case"Home":m(),e.preventDefault();break;case"End":p(),e.preventDefault();break;case"ArrowUp":case"ArrowDown":e.preventDefault();break;case"Tab":d()}},"data-p-galleria-thumbnail-item-current":n.current,"data-p-galleria-thumbnail-item-active":n.active,"data-p-galleria-thumbnail-item-start":n.start,"data-p-galleria-thumbnail-item-end":n.end},c("thumbnailItem")),x=a({className:l("thumbnailItemContent"),tabIndex:n.current?"0":"-1","aria-label":(i=n.index+1,t("aria")?t("aria").pageLabel.replace(/{page}/g,i):void 0),"aria-current":n.current?"page":void 0,onClick:function(e){n.onItemClick({originalEvent:e,index:n.index})}},c("thumbnailItemContent"));return e.createElement("div",g,e.createElement("div",x,b))})),Y=e.memo(e.forwardRef((function(a,r){var l=o(),p=H(e.useState(a.numVisible),2),d=p[0],f=p[1],h=H(e.useState(0),2),v=h[0],w=h[1],P=e.useRef(null),C=e.useRef(null),T=e.useRef(""),j=e.useRef(null),k=e.useRef(null),A=u(d),D=u(a.activeItemIndex),R=e.useContext(i),V=a.ptm,B=a.cx,U=a.sx,_=function(e,n){return V(e,Z({hostName:a.hostName},n))},G=H(s({listener:function(){ie()},when:a.responsiveOptions}),1)[0],L=function(e){var n=v+e;e<0&&-1*n+d>a.value.length-1?n=d-a.value.length:e>0&&n>0&&(n=0),a.circular&&(e<0&&a.value.length-1===a.activeItemIndex?n=0:e>0&&0===a.activeItemIndex&&(n=d-a.value.length)),P.current&&(I.removeClass(P.current,"p-items-hidden"),P.current.style.transform=a.isVertical?"translate3d(0, ".concat(n*(100/d),"%, 0)"):"translate3d(".concat(n*(100/d),"%, 0, 0)"),P.current.style.transition="transform 500ms ease 0s"),w(n)},W=function(){a.slideShowActive&&a.stopSlideShow&&a.stopSlideShow()},X=function(){var e=Math.floor(d/2);return d%2?e:e-1},z=function(e){W();var n=0!==a.activeItemIndex?a.activeItemIndex-1:0;d-(n+v)-1>X()&&(-1*v!=0||a.circular)&&L(1),a.onActiveItemChange({index:a.circular&&0===a.activeItemIndex?a.value.length-1:n}),e.cancelable&&e.preventDefault()},J=function(e){W();var n=a.activeItemIndex+1;n+v>X()&&(-1*v<ne()-1||a.circular)&&L(-1),a.onActiveItemChange({index:a.circular&&a.value.length-1===a.activeItemIndex?0:n}),e.cancelable&&e.preventDefault()},Y=function(e){W();var n=e.index;if(n!==a.activeItemIndex){var t=n+v,i=0;n<a.activeItemIndex?(i=d-t-1-X())>0&&-1*v!=0&&L(i):(i=X()-t)<0&&-1*v<ne()-1&&L(i),a.onActiveItemChange({index:n})}},F=function(e){P.current&&"transform"===e.propertyName&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&I.addClass(P.current,"p-items-hidden"),P.current.style.transition="")},$=function(e){var n=e.changedTouches[0];C.current={x:n.pageX,y:n.pageY}},q=function(e){e.cancelable&&e.preventDefault()},Q=function(e){var n=e.changedTouches[0];ee(e,a.isVertical?n.pageY-C.current.y:n.pageX-C.current.x)},ee=function(e,n){n<0?J(e):z(e)},ne=function(){return a.value.length>d?a.value.length-d+1:0},te=function(){j.current||(j.current=I.createInlineStyle(R&&R.nonce||n.nonce,R&&R.styleContainer));var e='\n            [data-pc-section="thumbnailitems"]['.concat(T.current,'] {\n                [data-pc-section="thumbnailitem"] {\n                    flex: 1 0 ').concat(100/d,"%\n                }\n            } \n        ");if(a.responsiveOptions){var t=y.localeComparator(R&&R.locale||n.locale);k.current=M(a.responsiveOptions),k.current.sort((function(e,i){return y.sort(e.breakpoint,i.breakpoint,-1,t,R&&R.nullSortOrder||n.nullSortOrder)}));for(var i=0;i<k.current.length;i++){var r=k.current[i];e+="\n                    @media screen and (max-width: ".concat(r.breakpoint,') {\n                        [data-pc-section="thumbnailitems"][').concat(T.current,'] {\n                            [data-pc-section="thumbnailitem"] {\n                                flex: 1 0 ').concat(100/r.numVisible,"%\n                            }\n                        } \n                    }\n                ")}}j.current.innerHTML=e},ie=function(){if(P.current&&k.current){for(var e=window.innerWidth,n={numVisible:a.numVisible},t=0;t<k.current.length;t++){var i=k.current[t];parseInt(i.breakpoint,10)>=e&&(n=i)}d!==n.numVisible&&f(n.numVisible)}};c((function(){P.current&&(T.current=x(),P.current.setAttribute(T.current,"")),te(),ie(),G()})),m((function(){var e=v;A===d&&D===a.activeItemIndex||((e=a.activeItemIndex<=X()?0:a.value.length-d+X()<a.activeItemIndex?d-a.value.length:a.value.length-d<a.activeItemIndex&&d%2==0?-1*a.activeItemIndex+X()+1:-1*a.activeItemIndex+X())!==v&&w(e),P.current.style.transform=a.isVertical?"translate3d(0, ".concat(e*(100/d),"%, 0)"):"translate3d(".concat(e*(100/d),"%, 0, 0)"),D!==a.activeItemIndex&&(document.body.setAttribute("data-p-items-hidden","false"),!a.isUnstyled()&&I.removeClass(P.current,"p-items-hidden"),P.current.style.transition="transform 500ms ease 0s"))}));var ae,re,le,oe,ce,ue,se,me=function(){if(a.showThumbnailNavigators){var n=!a.circular&&0===a.activeItemIndex||a.value.length<=d,i=l({className:B("previousThumbnailIcon")},_("previousThumbnailIcon")),r=g.getJSXIcon(a.isVertical?a.prevThumbnailIcon||e.createElement(N,i):a.prevThumbnailIcon||e.createElement(S,i),Z({},i),{props:a}),o=l({className:B("previousThumbnailButton",{isDisabled:n}),onClick:z,type:"button",disabled:n,"data-p-disabled":n,"aria-label":t("aria")?t("aria").previousPageLabel:void 0,"data-pc-group-section":"thumbnailnavigator"},_("previousThumbnailButton"));return e.createElement("button",o,r,e.createElement(b,null))}return null},pe=function(){if(a.showThumbnailNavigators){var n=!a.circular&&a.activeItemIndex===a.value.length-1||a.value.length<=d,i=l({className:B("nextThumbnailIcon")},_("nextThumbnailIcon")),r=g.getJSXIcon(a.isVertical?a.nextThumbnailIcon||e.createElement(E,i):a.nextThumbnailIcon||e.createElement(O,i),Z({},i),{props:a}),o=l({className:B("nextThumbnailButton",{isDisabled:n}),disabled:n,type:"button","aria-label":t("aria")?t("aria").nextPageLabel:void 0,onClick:J,"data-p-disabled":n,"data-pc-group-section":"thumbnailnavigator"},_("nextThumbnailButton"));return e.createElement("button",o,r,e.createElement(b,null))}return null},de=(ae=a.value.map((function(n,t){var i=-1*v,r=i+d-1;return e.createElement(K,{key:t,index:t,containerId:a.containerId,itemsContainerRef:P,template:a.itemTemplate,item:n,active:i<=t&&r>=t,start:i===t,end:r===t,onItemClick:Y,current:a.activeItemIndex===t,ptm:V,cx:B,sx:U})})),re=a.isVertical?a.contentHeight:"",le=me(),oe=pe(),ce=l({className:B("thumbnailContainer")},_("thumbnailContainer")),ue=l({className:B("thumbnailItemsContainer"),style:U("thumbnailItemsContainer",{height:re})},_("thumbnailItemsContainer")),se=l({ref:P,className:B("thumbnailItems"),role:"tablist",onTransitionEnd:F,onTouchStart:$,onTouchMove:q,onTouchEnd:Q},_("thumbnailItems")),e.createElement("div",ce,le,e.createElement("div",ue,e.createElement("div",se,ae)),oe)),fe=l({className:B("thumbnailWrapper")},_("thumbnailWrapper"));return e.createElement("div",fe,de)})));function F(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,i)}return t}function $(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?F(Object(t),!0).forEach((function(n){k(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):F(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}K.displayName="GalleriaThumbnailItem",Y.displayName="GalleriaThumbnails";var q=e.memo(e.forwardRef((function(a,c){var u=o(),s=e.useContext(i),m=U.getProps(a,s),S=H(e.useState(!1),2),O=S[0],E=S[1],N=H(e.useState(m.numVisible),2),C=N[0],T=N[1],j=H(e.useState(!1),2),k=j[0],A=j[1],D=H(e.useState(m.activeIndex),2),R=D[0],V=D[1],B=e.useRef(null),_=e.useRef(null),G=e.useRef(null),L=m.onItemChange?m.activeIndex:R,M="left"===m.thumbnailsPosition||"right"===m.thumbnailsPosition,W=m.id||x(),X=U.setMetaData({props:m,state:{visible:O,numVisible:C,slideShowActive:k,activeIndex:R}}),J=X.ptm,Z=X.cx,K=X.sx,F=X.isUnstyled;r(U.css.styles,F,{name:"galleria"}),p((function(){q({index:m.circular&&m.value.length-1===L?0:L+1})}),m.transitionInterval,k);var q=function(e){e.index>=m.value.length?ce():m.onItemChange?m.onItemChange(e):V(e.index)},Q=function(){E(!0)},ee=function(){E(!1)},ne=function(){I.blockBodyScroll()},te=function(){w.set("modal",G.current,s&&s.autoZIndex||n.autoZIndex,m.baseZIndex||s&&s.zIndex.modal||n.zIndex.modal),!F()&&I.addMultipleClasses(G.current,"p-component-overlay p-component-overlay-enter")},ie=function(){m.onShow&&m.onShow()},ae=function(){I.unblockBodyScroll(),!F()&&I.addClass(G.current,"p-component-overlay-leave")},re=function(){w.clear(G.current),m.onHide&&m.onHide()},le=function(){return k},oe=function(){A(!0)},ce=function(){A(!1)},ue=function(e,n){var t=["top","left","bottom","right"].find((function(e){return e===n}));return t?"".concat(e,"-").concat(t):""};e.useEffect((function(){m.value&&m.value.length<C&&T(m.value.length)}),[m.value,C]),e.useEffect((function(){T(m.numVisible)}),[m.numVisible]),d((function(){k&&ce(),w.clear(G.current)})),e.useImperativeHandle(c,(function(){return{props:m,show:Q,hide:ee,isAutoPlayActive:le,startSlideShow:oe,stopSlideShow:ce,getElement:function(){return B.current},getPreviewContent:function(){return _.current}}}));return y.isNotEmpty(m.value)&&function(){var n,i,a,r,o,c,p,d,I,x,y,w,S=(a=m.showThumbnails&&ue("p-galleria-thumbnails",m.thumbnailsPosition),r=m.showIndicators&&ue("p-galleria-indicators",m.indicatorsPosition),o=u({className:Z("closeIcon"),"aria-hidden":!0},J("closeIcon")),c=g.getJSXIcon(m.closeIcon||e.createElement(f,o),$({},o),{props:m}),p=u({type:"button",className:Z("closeButton"),"aria-label":t("aria")?t("aria").close:void 0,onClick:ee},J("closeButton")),d=m.fullScreen&&e.createElement("button",p,c,e.createElement(b,null)),n=u({className:Z("header")},J("header")),I=m.header?e.createElement("div",n,m.header):null,i=u({className:Z("footer")},J("footer")),x=m.footer?e.createElement("div",i,m.footer):null,y=u({ref:B,id:W,className:v(m.className,Z("root",{context:s,thumbnailsPosClassName:a,indicatorPosClassName:r})),style:m.style,role:"region"},U.getOtherProps(m),J("root")),w=u({className:Z("content"),"aria-live":m.autoPlay?"polite":"off"},J("content")),e.createElement("div",y,d,I,e.createElement("div",w,e.createElement(z,{hostName:"Galleria",ref:_,id:W,value:m.value,activeItemIndex:L,onActiveItemChange:q,itemTemplate:m.item,circular:m.circular,caption:m.caption,showIndicators:m.showIndicators,itemPrevIcon:m.itemPrevIcon,itemNextIcon:m.itemNextIcon,changeItemOnIndicatorHover:m.changeItemOnIndicatorHover,indicator:m.indicator,showItemNavigators:m.showItemNavigators,autoPlay:m.autoPlay,slideShowActive:k,startSlideShow:oe,stopSlideShow:ce,ptm:J,cx:Z}),m.showThumbnails&&e.createElement(Y,{hostName:"Galleria",value:m.value,containerId:W,activeItemIndex:L,onActiveItemChange:q,itemTemplate:m.thumbnail,numVisible:C,nextThumbnailIcon:m.nextThumbnailIcon,prevThumbnailIcon:m.prevThumbnailIcon,responsiveOptions:m.responsiveOptions,circular:m.circular,isVertical:M,contentHeight:m.verticalThumbnailViewPortHeight,showThumbnailNavigators:m.showThumbnailNavigators,autoPlay:m.autoPlay,slideShowActive:k,stopSlideShow:ce,isUnstyled:F,ptm:J,cx:Z,sx:K})),x));if(m.fullScreen){var E=u({className:Z("mask",{visibleState:O}),role:"dialog","aria-modal":"true"},J("mask")),N=u({classNames:Z("transition"),in:O,timeout:{enter:150,exit:150},options:m.transitionOptions,unmountOnExit:!0,onEnter:ne,onEntering:te,onEntered:ie,onExit:ae,onExited:re},J("transition")),T=e.createElement("div",P({ref:G},E),e.createElement(l,P({nodeRef:B},N),S));return e.createElement(h,{element:T})}return S}()})));q.displayName="Galleria";export{q as Galleria};
