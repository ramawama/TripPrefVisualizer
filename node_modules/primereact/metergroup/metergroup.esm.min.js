import{useContext as e}from"react";import{useMergeProps as t}from"primereact/hooks";import{PrimeReactContext as r}from"primereact/api";import{classNames as n,ObjectUtils as l}from"primereact/utils";import{ComponentBase as a,useHandleStyle as o}from"primereact/componentbase";function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i.apply(this,arguments)}function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function c(e,t){if("object"!==p(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==p(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function m(e){var t=c(e,"string");return"symbol"===p(t)?t:String(t)}var s=a.extend({defaultProps:{__TYPE:"MeterGroup",__parentMetadata:null,children:void 0,className:null,values:null,min:0,max:100,orientation:"horizontal",labelPosition:"end",labelOrientation:"horizontal",start:null,end:null,meter:null,labelList:null},css:{classes:{root:function(e){var t=e.props;return[n("p-metergroup p-component",{"p-metergroup-horizontal":"horizontal"===t.orientation,"p-metergroup-vertical":"vertical"===t.orientation})]},metercontainer:"p-metergroup-meter-container",meter:"p-metergroup-meter",labellist:function(e){var t=e.props;return n("p-metergroup-label-list",{"p-metergroup-label-list-start":"start"===t.labelPosition,"p-metergroup-label-list-end":"end"===t.labelPosition,"p-metergroup-label-list-vertical":"vertical"===t.labelOrientation,"p-metergroup-label-list-horizontal":"horizontal"===t.labelOrientation})},labellistitem:"p-metergroup-label-list-item",labelicon:"p-metergroup-label-icon",labellisttype:"p-metergroup-label-type",label:"p-metergroup-label"},styles:"\n@layer primereact {\n    .p-metergroup {\n        position: relative;\n        overflow: hidden;\n    }\n\n    .p-metergroup-vertical.p-metergroup {\n        display: flex;\n    }\n\n    .p-metergroup-vertical .p-metergroup-meter-container {\n        flex-direction: column;\n    }\n\n    .p-metergroup-meter-container {\n        display: flex;\n    }\n\n    .p-metergroup-label-list {\n        display: flex;\n        margin: 0;\n        padding: 0;\n        list-style-type: none;\n    }\n\n    .p-metergroup-vertical .p-metergroup-label-list {\n        align-items: start;\n    }\n\n    .p-metergroup-label-list-vertical {\n        flex-direction: column;\n    }\n\n    .p-metergroup-label-list-horizontal {\n        flex-direction: row;\n    }\n\n    .p-metergroup-label-list-item {\n        display: inline-flex;\n        align-items: center;\n    }\n\n    .p-metergroup-label-type {\n        display: inline-block;\n    }\n}\n"}});function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function b(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){var n,l,a;n=e,a=r[t],(l=m(l=t))in n?Object.defineProperty(n,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[l]=a})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var g=function(a){var p=e(r),c=s.getProps(a,p),m=c.values,u=c.min,g=c.max,v=c.orientation,f=c.labelPosition,y=c.start,d=c.end,h=c.meter,O=c.labelList,P=t(),j=s.setMetaData(b(b({props:c},c.__parentMetadata),{},{context:{disabled:c.disabled}})),x=j.ptm,E=j.cx;o(s.css.styles,j.isUnstyled,{name:"progressbar"});var w=0,S=[];m.map((function(e){w+=e.value,S.push(Math.round(e.value/w*100))}));var N,z,M=function(){return Math.round(Math.max(0,Math.min(100,((arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)-u)/(g-u)*100)))},R=P({className:n(c.className,E("root",{orientation:v}))},s.getOtherProps(c),x("root")),k={totalPercent:w,precentages:S,values:m},_=l.getJSXElement(O||function(){var e=P({className:E("labellist")},x("labellist")),t=P({className:E("labellistitem")},x("labellistitem")),r=P({className:E("label")},x("label"));return React.createElement("ol",e,m.map((function(e,l){var a=P({className:n(E("labelicon"),e.icon),style:{color:e.color}},x("labelicon")),o=P({className:E("labellisttype"),style:{backgroundColor:e.color}},x("labellisttype")),p=e.icon?React.createElement("i",a):React.createElement("span",o);return React.createElement("li",i({key:l},t),p,React.createElement("span",r,null==e?void 0:e.label," ",(null==e?void 0:e.value)&&"(".concat(null==e?void 0:e.value,"%)")))})))},{values:m,totalPercent:w});return React.createElement("div",i({},R,{role:"meter","aria-valuemin":u,"aria-valuemax":g,"aria-valuenow":w}),"start"===f&&_,y&&l.getJSXElement(y,k),(N=m.map((function(e,t){var r=M(e.value),n={backgroundColor:e.color,width:"horizontal"===v?r+"%":"auto",height:"vertical"===v?r+"%":"auto"},a=P({className:E("meter"),style:n},x("meter"));if(h||e.meterTemplate){var o=P({className:E("meter")},x("meter"));return l.getJSXElement(e.meterTemplate||h,b(b({},e),{},{percentage:r,index:t}),o)}return React.createElement("span",i({key:t},a))})),z=P({className:E("metercontainer")},x("metercontainer")),React.createElement("div",z,N)),d&&l.getJSXElement(d,k),"end"===f&&_)};export{g as MeterGroup};
